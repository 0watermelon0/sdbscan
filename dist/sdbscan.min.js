/*! sdbscan 2017-07-25 */

"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();!function t(n,r,e){function i(u,s){if(!r[u]){if(!n[u]){var o="function"==typeof require&&require;if(!s&&o)return o(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[u]={exports:{}};n[u][0].call(f.exports,function(t){var r=n[u][1][t];return i(r||t)},f,f.exports,t,n,r,e)}return r[u].exports}for(var a="function"==typeof require&&require,u=0;u<e.length;u++)i(e[u]);return i}({1:[function(t,n,r){!function(n){var r=t("./main.js");n.sdbscan=r}(window)},{"./main.js":3}],2:[function(t,n,r){n.exports={eudist:function(t,n,r){for(var e=t.length,i=0,a=0;a<e;a++){var u=(t[a]||0)-(n[a]||0);i+=u*u}return r?Math.sqrt(i):i},mandist:function(t,n,r){for(var e=t.length,i=0,a=0;a<e;a++)i+=Math.abs((t[a]||0)-(n[a]||0));return r?Math.sqrt(i):i},dist:function(t,n,r){var e=Math.abs(t-n);return r?e:e*e}}},{}],3:[function(t,n,r){var e=t("./distance.js").eudist,i=function(){function t(n,r,e){_classCallCheck(this,t),this._multi=n[0].length>0,this._data=this.initData(n),this._eps=r,this._min=e}return _createClass(t,[{key:"initData",value:function(t){for(var n=[],r=t.length,e=this._multi,i=0;i<r;i++)n.push({v:e?t[i]:[t[i]],visited:!1,idx:i,k:0});return n}},{key:"regionQuery",value:function(t){for(var n=this._eps,r=this._data,i=[],a=r.length,u=0;u<a;u++)e(r[u].v,t.v,!0)<=n&&i.push(r[u]);return i}},{key:"expandCluster",value:function(t,n,r){this._eps,this._data;var e=this._min;for(t.k=r.id,r.data.push(t.v);n.length;){var i=n.pop();if(!i.visited){i.visited=!0;var a=this.regionQuery(i);a.length>=e&&(n=n.concat(a)),i.k||(i.k=r.id,r.data.push(i.v))}}}},{key:"dbscan",value:function(){for(var t=this._data,n=this._min,r=0,e=[],i=[],a=null,u=[].concat(t);u.length;){var s=u.pop();if(!s.visited){s.visited=!0;var o=this.regionQuery(s);o.length<n?i.push(s):(a={id:r++,data:[]},e.push(a),this.expandCluster(s,o,a))}}return this._multi||e.forEach(function(t){t=t.map(function(t){return t[0]})}),{noise:i.map(function(t){return t.v}),clusters:e}}}]),t}();n.exports=function(t,n,r){return new i(t,n,r).dbscan()}},{"./distance.js":2}]},{},[1]);